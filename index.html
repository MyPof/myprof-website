<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyProfEduc - Cours Particuliers Simples et Efficaces</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4a6cf7;
            --primary-dark: #3a56d4;
            --secondary-color: #6c757d;
            --accent-color: #ffc107;
            --success-color: #198754;
            --danger-color: #dc3545;
            --text-color: #2d3748;
            --text-light: #718096;
            --light-bg: #f8f9fa;
            --dark-bg: #1e293b;
            --card-shadow: 0 10px 20px rgba(0,0,0,0.05);
            --hover-shadow: 0 15px 30px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
            --border-radius: 12px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--light-bg);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 1rem;
            position: relative;
        }

        .section-title:after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: var(--accent-color);
            margin: 0.5rem auto 1.5rem;
            border-radius: 2px;
        }

        .section-subtitle {
            text-align: center;
            color: var(--text-light);
            margin-bottom: 3rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.875rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 500;
            font-size: 1rem;
            transition: var(--transition);
            cursor: pointer;
            border: none;
            text-align: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 4px 15px rgba(74, 108, 247, 0.3);
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(74, 108, 247, 0.4);
        }

        .btn-secondary {
            background-color: white;
            color: var(--primary-color);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 1px solid var(--primary-color);
        }

        .btn-secondary:hover {
            background-color: var(--light-bg);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .btn-accent {
            background-color: var(--accent-color);
            color: var(--text-color);
            box-shadow: 0 4px 15px rgba(255, 193, 7, 0.3);
        }

        .btn-accent:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 193, 7, 0.4);
        }

        .text-center {
            text-align: center;
        }

        .badge {
            display: inline-block;
            padding: 0.35rem 0.65rem;
            font-size: 0.75rem;
            font-weight: 600;
            line-height: 1;
            text-align: center;
            white-space: nowrap;
            vertical-align: baseline;
            border-radius: 50px;
        }

        .badge-primary {
            color: #fff;
            background-color: var(--primary-color);
        }

        .badge-success {
            color: #fff;
            background-color: var(--success-color);
        }

        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: var(--transition);
        }

        .header-scrolled {
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 0.75rem 0;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }

        .logo-icon {
            color: var(--accent-color);
        }
        
        nav ul {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            gap: 1.5rem;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--text-color);
            font-weight: 500;
            transition: var(--transition);
            padding: 0.5rem 0;
            position: relative;
        }

        nav ul li a:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background-color: var(--primary-color);
            transition: var(--transition);
        }

        nav ul li a:hover, nav ul li a.active {
            color: var(--primary-color);
        }

        nav ul li a:hover:after, nav ul li a.active:after {
            width: 100%;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-color);
        }

        .hero {
            background: linear-gradient(135deg, rgba(74, 108, 247, 0.85) 0%, rgba(58, 86, 212, 0.9) 100%), url('https://images.unsplash.com/photo-1584697964358-3e14ca57658b?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1770&q=80') no-repeat center/cover;
            color: white;
            padding: 7rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            font-weight: 700;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.25rem;
            font-weight: 300;
            max-width: 600px;
            margin: 0 auto 2.5rem;
            opacity: 0.9;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .stats-container {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-top: 4rem;
            flex-wrap: wrap;
            animation: fadeIn 1s ease;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: white;
        }

        .stat-label {
            font-size: 1rem;
            opacity: 0.8;
        }

        .stats-source {
            margin-top: 2rem;
            font-size: 0.8rem;
            opacity: 0.7;
            text-align: center;
            width: 100%;
        }

        section {
            padding: 5rem 0;
        }
        
        section.light {
            background-color: white;
        }
        
        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            background-color: white;
            padding: 2.5rem;
            border-radius: var(--border-radius);
            text-align: center;
            transition: var(--transition);
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
        }
        
        .feature-card:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 0;
            background: var(--primary-color);
            transition: var(--transition);
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--hover-shadow);
        }
        
        .feature-card:hover:before {
            height: 100%;
        }

        .feature-icon {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            background: rgba(74, 108, 247, 0.1);
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            margin-left: auto;
            margin-right: auto;
        }

        .feature-card h3 {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        #teachers {
            background-color: var(--light-bg);
        }

        .search-filters {
            background-color: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
        }

        .filter-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-color);
        }

        .filter-group input, .filter-group select {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
        }

        .filter-group input:focus, .filter-group select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(74, 108, 247, 0.2);
        }

        .search-button {
            align-self: flex-end;
        }

        .teacher-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }

        .teacher-card {
            background-color: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            position: relative;
        }

        .teacher-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--hover-shadow);
        }

        .teacher-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            z-index: 2;
        }

        .teacher-photo-container {
            position: relative;
            overflow: hidden;
        }

        .teacher-photo {
            width: 100%;
            height: 250px;
            object-fit: cover;
            transition: var(--transition);
        }

        .teacher-card:hover .teacher-photo {
            transform: scale(1.05);
        }

        .teacher-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            padding: 1rem;
            color: white;
        }

        .teacher-name {
            font-size: 1.5rem;
            color: white;
            margin: 0 0 0.25rem;
        }

        .teacher-subject {
            font-weight: 500;
            color: rgba(255,255,255,0.9);
            margin: 0;
        }

        .teacher-info {
            padding: 1.5rem;
        }

        .teacher-details {
            display: flex;
            align-items: center;
            margin-bottom: 0.75rem;
            color: var(--text-light);
        }
        
        .teacher-details i {
            margin-right: 10px;
            color: var(--primary-color);
            width: 16px;
        }

        .teacher-rating {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .stars {
            color: #ffc107;
            margin-right: 0.5rem;
        }

        .price {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--primary-color);
            margin: 1rem 0;
            text-align: right;
        }

        #registration {
            background-color: white;
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
            background: var(--light-bg);
            border-radius: 50px;
            padding: 0.25rem;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
        }
        
        .tab-btn {
            background: none;
            border: none;
            padding: 0.75rem 2rem;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-light);
            border-radius: 50px;
            transition: var(--transition);
        }
        
        .tab-btn.active {
            background: white;
            color: var(--primary-color);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .form-card {
            background-color: white;
            padding: 3rem;
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            max-width: 600px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(74, 108, 247, 0.2);
        }

        .password-validation {
            font-size: 0.8rem;
            color: var(--text-light);
            margin-top: 0.5rem;
        }
        
        .password-validation li {
            list-style: none;
            display: flex;
            align-items: center;
            margin-bottom: 0.3rem;
            transition: var(--transition);
        }
        
        .password-validation li.valid {
            color: var(--success-color);
        }
        
        .password-validation li i {
            margin-right: 0.5rem;
            width: 16px;
        }
        
        .password-strength-bar {
            height: 6px;
            background-color: #e2e8f0;
            border-radius: 3px;
            margin-top: 0.5rem;
            overflow: hidden;
        }
        
        .strength {
            height: 100%;
            width: 0;
            transition: var(--transition);
            background-color: var(--danger-color);
        }
        
        .strength.medium {
            background-color: var(--accent-color);
        }
        
        .strength.strong {
            background-color: var(--success-color);
        }

        #verification {
            background-color: white;
            display: none;
        }

        .verification-card {
            background-color: white;
            padding: 3rem;
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            max-width: 500px;
            margin: 0 auto;
            text-align: center;
        }

        .verification-icon {
            font-size: 4rem;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
        }

        #profile {
            background-color: var(--light-bg);
            display: none;
        }

        .profile-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
            background: white;
            border-radius: 50px;
            padding: 0.25rem;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
            box-shadow: var(--card-shadow);
        }
        
        .profile-tab-btn {
            background: none;
            border: none;
            padding: 0.75rem 2rem;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-light);
            border-radius: 50px;
            transition: var(--transition);
        }
        
        .profile-tab-btn.active {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .profile-content {
            display: none;
        }

        .profile-content.active {
            display: block;
        }

        .children-list {
            margin-top: 1.5rem;
        }

        .child-item {
            background: white;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
            box-shadow: var(--card-shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .photo-upload {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 2rem;
        }

        .profile-photo {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--primary-color);
            margin-bottom: 1rem;
        }

        .photo-upload-input {
            display: none;
        }

        .photo-upload-label {
            display: block;
            width: 150px;
            height: 150px;
            border: 2px dashed var(--primary-color);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: var(--transition);
            margin-bottom: 1rem;
        }

        .photo-upload-label:hover {
            border-color: var(--primary-dark);
            background-color: rgba(74, 108, 247, 0.05);
        }

        .photo-preview {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .upload-icon {
            font-size: 3rem;
            color: var(--primary-color);
            position: relative;
            z-index: 2;
        }

        .faq-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .faq-item {
            background: white;
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
            box-shadow: var(--card-shadow);
            overflow: hidden;
        }

        .faq-question {
            padding: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
        }

        .faq-answer {
            padding: 0 1.5rem 1.5rem;
            display: none;
        }

        .faq-item.active .faq-answer {
            display: block;
        }

        .faq-item.active .faq-toggle i {
            transform: rotate(180deg);
        }

        .faq-toggle {
            transition: var(--transition);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            padding: 1rem;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background-color: white;
            padding: 2.5rem;
            border-radius: var(--border-radius);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            position: relative;
            max-width: 450px;
            width: 100%;
            text-align: center;
            animation: slideUp 0.3s ease;
        }

        .modal-content h3 {
            color: var(--primary-color);
            margin-top: 0;
            margin-bottom: 1rem;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
            background: none;
            border: none;
        }

        .modal-close:hover {
            color: var(--primary-color);
        }

        footer {
            background-color: var(--dark-bg);
            color: white;
            padding: 4rem 0 2rem;
            text-align: center;
            margin-top: auto;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            text-align: left;
            margin-bottom: 2rem;
        }

        .footer-col h4 {
            color: white;
            margin-bottom: 1.5rem;
            font-size: 1.25rem;
            position: relative;
            padding-bottom: 0.5rem;
        }

        .footer-col h4:after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 40px;
            height: 2px;
            background: var(--accent-color);
        }

        .footer-col p {
            margin-bottom: 1rem;
            opacity: 0.8;
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
            transition: var(--transition);
            opacity: 0.8;
        }

        .footer-links a:hover {
            opacity: 1;
            color: var(--accent-color);
            padding-left: 5px;
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            color: white;
            transition: var(--transition);
        }

        .social-links a:hover {
            background: var(--accent-color);
            transform: translateY(-3px);
        }

        .footer-bottom {
            padding-top: 2rem;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .stats-reference {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-top: 1rem;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 992px) {
            .section-title { font-size: 2rem; }
            .hero h1 { font-size: 2.75rem; }
            .stats-container { gap: 2rem; }
            .stat-number { font-size: 2rem; }
        }

        @media (max-width: 768px) {
            .header-content { flex-direction: column; text-align: center; gap: 1rem; }
            nav ul { flex-direction: column; gap: 0.5rem; margin-top: 1rem; display: none; }
            nav ul.show { display: flex; }
            .mobile-menu-btn { display: block; position: absolute; right: 1.5rem; top: 1rem; }
            .hero { padding: 5rem 0; }
            .hero h1 { font-size: 2.25rem; }
            .hero p { font-size: 1.1rem; }
            .hero-buttons { flex-direction: column; align-items: center; }
            .stats-container { gap: 1.5rem; }
            .search-filters { grid-template-columns: 1fr; }
            .form-card { padding: 2rem; }
            .footer-content { grid-template-columns: 1fr; text-align: center; }
            .footer-col h4:after { left: 50%; transform: translateX(-50%); }
        }

        @media (max-width: 576px) {
            .section-title { font-size: 1.75rem; }
            .hero h1 { font-size: 2rem; }
            .teacher-list { grid-template-columns: 1fr; }
            .tabs { flex-direction: column; width: 100%; }
        }

        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .tag {
            background-color: var(--primary-color);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 50px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .tag-remove {
            cursor: pointer;
            font-size: 0.9rem;
        }

        .add-tag-form {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .add-tag-input {
            flex: 1;
        }

        .contact-form {
            background-color: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            max-width: 500px;
            margin: 0 auto;
        }

        /* Styles pour l'édition de profil */
        .edit-profile-modal { 
            max-width: 600px;
        }
        .edit-profile-form { 
            text-align: left; 
        }

        .profile-actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 1.5rem;
        }

        .profile-photo-preview {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--primary-color);
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>

    <header id="header">
        <div class="container header-content">
            <a href="#" class="logo">
                <i class="fas fa-graduation-cap logo-icon"></i> MyProfEduc
            </a>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
            <nav>
                <ul id="navMenu">
                    <li><a href="#home" class="active">Accueil</a></li>
                    <li><a href="#teachers">Trouver un enseignant</a></li>
                    <li><a href="#registration">Inscription</a></li>
                    <li><a href="#about">À propos</a></li>
                    <li><a href="#faq">FAQ</a></li>
                    <li id="loginNavItem"><a href="#" onclick="openLoginModal()">Connexion</a></li>
                    <li id="profileNavItem" style="display: none;"><a href="#profile">Mon profil</a></li>
                    <li id="logoutNavItem" style="display: none;"><a href="#" onclick="logout()">Déconnexion</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section id="hero" class="hero">
        <div class="hero-content">
            <h1>Connecter les Familles aux Meilleurs Enseignants</h1>
            <p>Trouvez l'aide scolaire parfaite pour votre enfant ou proposez vos services d'enseignement en toute simplicité.</p>
            <div class="hero-buttons">
                <a href="#teachers" class="btn btn-accent">
                    <i class="fas fa-search"></i> Trouver un enseignant 
                </a>
                <a href="#registration" class="btn btn-secondary">
                    <i class="fas fa-chalkboard-teacher"></i> Devenir enseignant
                </a>
            </div>
            <div class="stats-container">
                <div class="stat-item">
                    <div class="stat-number" id="teacherCount">20,025</div>
                    <div class="stat-label">Enseignants qualifiés</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="parentCount">45,120</div>
                    <div class="stat-label">Parents satisfaits</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="studentCount">78,356</div>
                    <div class="stat-label">Élèves accompagnés</div>
                </div>
            </div>
            <div class="stats-source">
                <p>Source: Étude nationale sur le soutien scolaire 2025 - Ministère de l'Éducation</p>
            </div>
        </div>
    </section>

    <section id="home" class="light">
        <div class="container">
            <h2 class="section-title">Comment ça fonctionne ?</h2>
            <p class="section-subtitle">Une plateforme simple et transparente pour connecter directement parents et enseignants, sans intermédiaire coûteux.</p>
            <div class="grid-3">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>1. Recherchez</h3>
                    <p>Trouvez un enseignant qualifié par matière, ville et budget. Consultez les profils détaillés et les avis.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-handshake"></i>
                    </div>
                    <h3>2. Contactez</h3>
                    <p>Envoyez une demande de contact pour 5€. Le paiement n'est validé que si l'enseignant accepte votre demande.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chalkboard-teacher"></i>
                    </div>
                    <h3>3. Apprenez</h3>
                    <p>Organisez les cours et payez l'enseignant directement, sans commission supplémentaire.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="teachers">
        <div class="container">
            <h2 class="section-title">Trouvez votre enseignant</h2>
            <p class="section-subtitle">Parcourez notre sélection d'enseignants qualifiés et expérimentés, prêts à accompagner votre enfant vers la réussite.</p>
            <div class="search-filters">
                <div class="filter-group">
                    <label for="searchSubject">Matière</label>
                    <select id="searchSubject">
                        <option value="">Toutes les matières</option>
                        <option value="Mathématiques">Mathématiques</option>
                        <option value="Français">Français</option>
                        <option value="Physique-Chimie">Physique-Chimie</option>
                        <option value="Anglais">Anglais</option>
                        <option value="Histoire-Géographie">Histoire-Géographie</option>
                        <option value="SVT">SVT</option>
                        <option value="Philosophie">Philosophie</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="searchCity">Ville</label>
                    <select id="searchCity">
                        <option value="">Toutes les villes</option>
                        </select>
                </div>
                <div class="filter-group">
                    <label for="maxPrice">Prix max (€/h)</label>
                    <input type="number" id="maxPrice" placeholder="Ex: 25" min="0">
                </div>
                <div class="filter-group search-button">
                    <button class="btn btn-primary" onclick="filterTeachers()">
                        <i class="fas fa-search"></i> Rechercher
                    </button>
                </div>
            </div>
            <div class="teacher-list" id="teacherList">
                </div>
        </div>
    </section>

    <section id="registration">
        <div class="container">
            <h2 class="section-title">Rejoignez-nous !</h2>
            <p class="section-subtitle">Inscrivez-vous en tant que parent pour trouver l'aide parfaite ou en tant qu'enseignant pour partager votre savoir.</p>
            <div class="tabs">
                <button class="tab-btn active" data-target="parentForm">Je suis un parent</button>
                <button class="tab-btn" data-target="teacherForm">Je suis un enseignant</button>
            </div>
            
            <div id="parentForm" class="form-card active-form">
                <h3>Inscription Parent</h3>
                <div class="form-group">
                    <label for="parentName">Nom & Prénom</label>
                    <input type="text" id="parentName" placeholder="Votre nom et prénom">
                </div>
                <div class="form-group">
                    <label for="parentEmail">Email</label>
                    <input type="email" id="parentEmail" placeholder="Votre adresse email">
                </div>
                <div class="form-group">
                    <label for="parentPassword">Mot de passe</label>
                    <input type="password" id="parentPassword" placeholder="Créez un mot de passe sécurisé">
                    <div class="password-validation">
                        <ul>
                            <li id="parentLengthValidation"><i class="fas fa-times"></i> Au moins 8 caractères</li>
                            <li id="parentUppercaseValidation"><i class="fas fa-times"></i> Au moins une majuscule</li>
                            <li id="parentNumberValidation"><i class="fas fa-times"></i> Au moins un chiffre</li>
                            <li id="parentSpecialValidation"><i class="fas fa-times"></i> Au moins un caractère spécial</li>
                        </ul>
                        <div class="password-strength-bar">
                            <div class="strength" id="parentPasswordStrength"></div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="parentConfirmPassword">Confirmer le mot de passe</label>
                    <input type="password" id="parentConfirmPassword" placeholder="Confirmez votre mot de passe">
                </div>
                <div class="form-group">
                    <label for="childName">Nom de l'enfant</label>
                    <input type="text" id="childName" placeholder="Nom et prénom de votre enfant">
                </div>
                <div class="form-group">
                    <label for="childAge">Âge de l'enfant</label>
                    <input type="number" id="childAge" min="5" max="18" placeholder="Âge de votre enfant">
                </div>
                <div class="form-group">
                    <label for="childGrade">Niveau scolaire</label>
                    <select id="childGrade">
                        <option value="">Sélectionnez le niveau</option>
                        <option value="CP">CP</option>
                        <option value="CE1">CE1</option>
                        <option value="CE2">CE2</option>
                        <option value="CM1">CM1</option>
                        <option value="CM2">CM2</option>
                        <option value="6ème">6ème</option>
                        <option value="5ème">5ème</option>
                        <option value="4ème">4ème</option>
                        <option value="3ème">3ème</option>
                        <option value="2nde">2nde</option>
                        <option value="1ère">1ère</option>
                        <option value="Terminale">Terminale</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="parentCity">Ville</label>
                    <select id="parentCity">
                        <option value="">Sélectionnez votre ville</option>
                        </select>
                </div>
                <button class="btn btn-primary" onclick="registerParent()">
                    <i class="fas fa-user-plus"></i> S'inscrire
                </button>
            </div>

            <div id="teacherForm" class="form-card" style="display: none;">
                <h3>Inscription Enseignant</h3>
                <div class="form-group">
                    <label for="teacherName">Nom & Prénom</label>
                    <input type="text" id="teacherName" placeholder="Votre nom et prénom">
                </div>
                <div class="form-group">
                    <label for="teacherEmail">Email</label>
                    <input type="email" id="teacherEmail" placeholder="Votre adresse email">
                </div>
                <div class="form-group">
                    <label for="teacherPassword">Mot de passe</label>
                    <input type="password" id="teacherPassword" placeholder="Créez un mot de passe sécurisé">
                    <div class="password-validation">
                        <ul>
                            <li id="teacherLengthValidation"><i class="fas fa-times"></i> Au moins 8 caractères</li>
                            <li id="teacherUppercaseValidation"><i class="fas fa-times"></i> Au moins une majuscule</li>
                            <li id="teacherNumberValidation"><i class="fas fa-times"></i> Au moins un chiffre</li>
                            <li id="teacherSpecialValidation"><i class="fas fa-times"></i> Au moins un caractère spécial</li>
                        </ul>
                        <div class="password-strength-bar">
                            <div class="strength" id="teacherPasswordStrength"></div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="teacherConfirmPassword">Confirmer le mot de passe</label>
                    <input type="password" id="teacherConfirmPassword" placeholder="Confirmez votre mot de passe">
                </div>
                <div class="form-group">
                    <label for="teacherSubject">Matière enseignée</label>
                    <select id="teacherSubject">
                        <option value="">Sélectionnez une matière</option>
                        <option value="Mathématiques">Mathématiques</option>
                        <option value="Français">Français</option>
                        <option value="Physique-Chimie">Physique-Chimie</option>
                        <option value="Anglais">Anglais</option>
                        <option value="Histoire-Géographie">Histoire-Géographie</option>
                        <option value="SVT">SVT</option>
                        <option value="Philosophie">Philosophie</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="teacherCity">Ville</label>
                    <select id="teacherCity">
                        <option value="">Sélectionnez votre ville</option>
                        </select>
                </div>
                <div class="form-group">
                    <label>Photo de profil</label>
                    <input type="file" id="teacherPhoto" accept="image/*" class="photo-upload-input">
                    <label for="teacherPhoto" class="photo-upload-label">
                        <img id="teacherPhotoPreview" src="#" alt="Aperçu de la photo" class="photo-preview" style="display:none;">
                        <span class="upload-icon"><i class="fas fa-camera"></i></span>
                    </label>
                    <p class="text-center" id="teacherPhotoText">Ajouter une photo de profil</p>
                </div>
                <div class="form-group">
                    <label for="teacherDiplomas">Diplômes (PDF)</label>
                    <input type="file" id="teacherDiplomas" accept="application/pdf" multiple>
                </div>
                <div class="form-group">
                    <label for="teacherBio">Présentez-vous</label>
                    <textarea id="teacherBio" rows="5" placeholder="Décrivez votre expérience, votre méthode d'enseignement..."></textarea>
                </div>
                <button class="btn btn-primary" onclick="registerTeacher()">
                    <i class="fas fa-chalkboard-teacher"></i> S'inscrire en tant qu'enseignant
                </button>
            </div>
        </div>
    </section>

    <section id="verification">
        <div class="container">
            <div class="verification-card">
                <div class="verification-icon">
                    <i class="fas fa-envelope"></i>
                </div>
                <h3>Vérifiez votre email</h3>
                <p>Nous avons envoyé un lien de vérification à votre adresse email. Veuillez cliquer sur ce lien pour activer votre compte.</p>
                <p>Si vous n'avez pas reçu l'email, vérifiez votre dossier spam ou <a href="#" onclick="resendVerification()">renvoyer l'email</a>.</p>
            </div>
        </div>
    </section>

    <section id="profile">
        <div class="container">
            <div class="profile-tabs">
                <button class="profile-tab-btn active" data-target="profile-info">Informations</button>
                <button class="profile-tab-btn" data-target="profile-children">Mes enfants</button>
                <button class="profile-tab-btn" data-target="profile-bookings">Réservations</button>
            </div>
            
            <div id="profile-info" class="profile-content active">
                <div class="form-card">
                    <h3>Mon Profil</h3>
                    <div id="profileContent"></div>
                    <div class="profile-actions">
                        <button class="btn btn-secondary" onclick="openEditProfileModal()">
                            <i class="fas fa-edit"></i> Modifier mon profil
                        </button>
                    </div>
                </div>
            </div>
            
            <div id="profile-children" class="profile-content">
                <div class="form-card">
                    <h3>Mes Enfants</h3>
                    <button class="btn btn-primary" onclick="openAddChildModal()">
                        <i class="fas fa-plus"></i> Ajouter un enfant
                    </button>
                    <div class="children-list" id="childrenList"></div>
                </div>
            </div>
            
            <div id="profile-bookings" class="profile-content">
                <div class="form-card">
                    <h3>Mes Réservations</h3>
                    <div id="bookingsList"></div>
                </div>
            </div>
        </div>
    </section>

    <div id="loginModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeLoginModal()">&times;</button>
            <h3>Connexion</h3>
            <div class="form-group">
                <label for="loginEmail">Email</label>
                <input type="email" id="loginEmail" placeholder="Votre adresse email">
            </div>
            <div class="form-group">
                <label for="loginPassword">Mot de passe</label>
                <input type="password" id="loginPassword" placeholder="Votre mot de passe">
            </div>
            <button class="btn btn-primary" onclick="login()">Se connecter</button>
            <p style="margin-top: 1rem;">Pas encore inscrit ?
                <a href="#registration" onclick="closeLoginModal()">Créer un compte</a>
            </p>
        </div>
    </div>

    <div id="editProfileModal" class="modal">
        <div class="modal-content edit-profile-modal">
            <button class="modal-close" onclick="closeEditProfileModal()">&times;</button>
            <h3>Modifier mon profil</h3>
            <div id="editParentForm" class="edit-profile-form" style="display: none;">
                <div class="form-group">
                    <label for="editParentName">Nom & Prénom</label>
                    <input type="text" id="editParentName" placeholder="Votre nom et prénom">
                </div>
                <div class="form-group">
                    <label for="editParentEmail">Email</label>
                    <input type="email" id="editParentEmail" placeholder="Votre adresse email" readonly>
                </div>
                <div class="form-group">
                    <label for="editParentCity">Ville</label>
                    <select id="editParentCity">
                        <option value="">Sélectionnez votre ville</option>
                        </select>
                </div>
                <button class="btn btn-primary" onclick="saveProfileChanges()">
                    <i class="fas fa-save"></i> Enregistrer les modifications
                </button>
            </div>
            <div id="editTeacherForm" class="edit-profile-form" style="display: none;">
                <div class="form-group">
                    <label for="editTeacherName">Nom & Prénom</label>
                    <input type="text" id="editTeacherName" placeholder="Votre nom et prénom">
                </div>
                <div class="form-group">
                    <label for="editTeacherEmail">Email</label>
                    <input type="email" id="editTeacherEmail" placeholder="Votre adresse email" readonly>
                </div>
                <div class="form-group">
                    <label for="editTeacherSubject">Matière enseignée</label>
                    <select id="editTeacherSubject">
                        <option value="">Sélectionnez une matière</option>
                        <option value="Mathématiques">Mathématiques</option>
                        <option value="Français">Français</option>
                        <option value="Physique-Chimie">Physique-Chimie</option>
                        <option value="Anglais">Anglais</option>
                        <option value="Histoire-Géographie">Histoire-Géographie</option>
                        <option value="SVT">SVT</option>
                        <option value="Philosophie">Philosophie</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editTeacherCity">Ville</label>
                    <select id="editTeacherCity">
                        <option value="">Sélectionnez votre ville</option>
                        </select>
                </div>
                <div class="form-group">
                    <label>Photo de profil</label>
                    <input type="file" id="editTeacherPhoto" accept="image/*" class="photo-upload-input">
                    <label for="editTeacherPhoto" class="photo-upload-label">
                        <img id="editTeacherPhotoPreview" src="#" alt="Aperçu de la photo" class="photo-preview" style="display:none;">
                        <span class="upload-icon"><i class="fas fa-camera"></i></span>
                    </label>
                    <p class="text-center" id="editTeacherPhotoText">Ajouter une photo de profil</p>
                </div>
                <div class="form-group">
                    <label for="editTeacherDiplomas">Diplômes (PDF)</label>
                    <input type="file" id="editTeacherDiplomas" accept="application/pdf" multiple>
                </div>
                <div class="form-group">
                    <label for="editTeacherBio">Présentez-vous</label>
                    <textarea id="editTeacherBio" rows="5" placeholder="Décrivez votre expérience, votre méthode d'enseignement..."></textarea>
                </div>
                <button class="btn btn-primary" onclick="saveProfileChanges()">
                    <i class="fas fa-save"></i> Enregistrer les modifications
                </button>
            </div>
        </div>
    </div>

    <div id="addChildModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeAddChildModal()">&times;</button>
            <h3>Ajouter un enfant</h3>
            <div class="form-group">
                <label for="newChildName">Nom de l'enfant</label>
                <input type="text" id="newChildName" placeholder="Nom et prénom">
            </div>
            <div class="form-group">
                <label for="newChildAge">Âge</label>
                <input type="number" id="newChildAge" placeholder="Âge">
            </div>
            <div class="form-group">
                <label for="newChildGrade">Niveau scolaire</label>
                <select id="newChildGrade">
                    <option value="">Sélectionnez le niveau</option>
                    <option value="CP">CP</option>
                    <option value="CE1">CE1</option>
                    <option value="CE2">CE2</option>
                    <option value="CM1">CM1</option>
                    <option value="CM2">CM2</option>
                    <option value="6ème">6ème</option>
                    <option value="5ème">5ème</option>
                    <option value="4ème">4ème</option>
                    <option value="3ème">3ème</option>
                    <option value="2nde">2nde</option>
                    <option value="1ère">1ère</option>
                    <option value="Terminale">Terminale</option>
                </select>
            </div>
            <button class="btn btn-primary" onclick="addChild()">Ajouter</button>
        </div>
    </div>

    <div id="contactTeacherModal" class="modal">
        <div class="modal-content contact-teacher-modal">
            <button class="modal-close" onclick="closeContactTeacherModal()">&times;</button>
            <h3>Contacter l'enseignant</h3>
            <div id="contactTeacherStep1">
                <p>Vous êtes sur le point de contacter <span id="contactTeacherName"></span> pour des cours de <span id="contactTeacherSubject"></span>.</p>
                <p>Un paiement de 5€ est requis pour débloquer les coordonnées de l'enseignant. Ce montant ne sera prélevé que si l'enseignant accepte votre demande.</p>
                <div class="payment-summary">
                    <div class="payment-info">
                        <span>Frais de mise en relation:</span>
                        <span>5,00 €</span>
                    </div>
                    <div class="payment-total">
                        <span>Total:</span>
                        <span>5,00 €</span>
                    </div>
                </div>
                <div class="payment-methods">
                    <label class="payment-method">
                        <input type="radio" name="payment-option" checked>
                        Carte de crédit
                    </label>
                    <label class="payment-method">
                        <input type="radio" name="payment-option">
                        PayPal
                    </label>
                </div>
                <button class="btn btn-primary" onclick="completeContact()">Payer et contacter</button>
            </div>
            <div id="contactTeacherStep2" style="display: none;">
                <div class="verification-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3>Demande envoyée !</h3>
                <p>Votre demande a été envoyée à <span id="contactTeacherNameConfirm"></span>. Vous serez notifié lorsque l'enseignant aura répondu.</p>
                <p>Vous pouvez retrouver vos réservations dans <a href="#profile" onclick="closeContactTeacherModal(); showProfileTab('profile-bookings');">votre profil</a>.</p>
            </div>
        </div>
    </div>

    <footer>
        <div class="container footer-content">
            <div class="footer-col">
                <a href="#" class="logo">
                    <i class="fas fa-graduation-cap logo-icon"></i> MyProfEduc
                </a>
                <p>Faciliter l'accès à l'éducation de qualité pour tous, partout.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="footer-col">
                <h4>Plateforme</h4>
                <div class="footer-links">
                    <a href="#teachers">Trouver un enseignant</a>
                    <a href="#registration">Devenir enseignant</a>
                    <a href="#about">Fonctionnement</a>
                    <a href="#faq">FAQ</a>
                </div>
            </div>
            <div class="footer-col">
                <h4>Contact</h4>
                <p>123 Rue de l'Éducation<br>75000 Paris, France</p>
                <p>Email: contact@myprofeduc.fr<br>Tél: +33 1 23 45 67 89</p>
            </div>
            <div class="footer-col">
                <h4>Légal</h4>
                <div class="footer-links">
                    <a href="#">Conditions générales</a>
                    <a href="#">Politique de confidentialité</a>
                    <a href="#">Mentions légales</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 MyProfEduc. Tous droits réservés.</p>
        </div>
    </footer>

    <script>
        // Data temporaire
        const teachers = [
            {
                id: 1,
                name: "Jean Dupont",
                subject: "Mathématiques",
                city: "Paris",
                experience: 5,
                rate: 30,
                rating: 4.8,
                reviews: 55,
                photo: "https://images.unsplash.com/photo-1599305445672-997931f6e2e2?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80",
                bio: "Ingénieur de formation, je propose des cours de mathématiques pour les collégiens et lycéens. Ma pédagogie est basée sur la compréhension des concepts, et non sur le simple par cœur."
            },
            {
                id: 2,
                name: "Marie Leclerc",
                subject: "Français",
                city: "Lyon",
                experience: 8,
                rate: 25,
                rating: 5.0,
                reviews: 32,
                photo: "https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=776&q=80",
                bio: "Professeure de français passionnée par la littérature, j'aide mes élèves à améliorer leur expression écrite et orale."
            },
            {
                id: 3,
                name: "Marc Dubois",
                subject: "Anglais",
                city: "Marseille",
                experience: 10,
                rate: 28,
                rating: 4.9,
                reviews: 64,
                photo: "https://images.unsplash.com/photo-1552058544-f2b08422138a?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=798&q=80",
                bio: "Bilingue anglais-français, je propose un enseignement dynamique et ludique, axé sur la conversation et la confiance en soi."
            }
        ];

        let currentUser = null; // Simule l'utilisateur actuellement connecté

        document.addEventListener('DOMContentLoaded', function() {
            // Initialisation des onglets de formulaire d'inscription
            document.querySelectorAll('.tabs .tab-btn').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.tabs .tab-btn').forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    document.querySelectorAll('.form-card').forEach(form => form.style.display = 'none');
                    const targetForm = this.getAttribute('data-target');
                    document.getElementById(targetForm).style.display = 'block';
                });
            });

            // Initialisation des onglets de profil
            document.querySelectorAll('.profile-tabs .profile-tab-btn').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.profile-tabs .profile-tab-btn').forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    document.querySelectorAll('.profile-content').forEach(content => content.classList.remove('active'));
                    const targetContent = this.getAttribute('data-target');
                    document.getElementById(targetContent).classList.add('active');
                    if (targetContent === 'profile-info') {
                        displayUserProfile();
                    }
                });
            });

            // Gestion de l'affichage des modals
            window.openLoginModal = () => document.getElementById('loginModal').style.display = 'flex';
            window.closeLoginModal = () => document.getElementById('loginModal').style.display = 'none';
            window.openAddChildModal = () => document.getElementById('addChildModal').style.display = 'flex';
            window.closeAddChildModal = () => document.getElementById('addChildModal').style.display = 'none';
            window.openContactTeacherModal = () => document.getElementById('contactTeacherModal').style.display = 'flex';
            window.closeContactTeacherModal = () => document.getElementById('contactTeacherModal').style.display = 'none';
            window.openEditProfileModal = function() {
                if (!currentUser) return;
                loadProfileForEdit(currentUser.userType);
                document.getElementById('editProfileModal').style.display = 'flex';
            }
            window.closeEditProfileModal = () => document.getElementById('editProfileModal').style.display = 'none';

            // Fonction de validation du mot de passe
            window.validatePassword = function(password, formType) {
                const validations = {
                    length: password.length >= 8,
                    uppercase: /[A-Z]/.test(password),
                    number: /[0-9]/.test(password),
                    special: /[!@#$%^&*(),.?":{}|<>]/.test(password)
                };

                const prefix = formType === 'parent' ? 'parent' : 'teacher';
                let validCount = 0;
                if (validations.length) {
                    document.getElementById(`${prefix}LengthValidation`).classList.add('valid');
                    validCount++;
                } else {
                    document.getElementById(`${prefix}LengthValidation`).classList.remove('valid');
                }
                if (validations.uppercase) {
                    document.getElementById(`${prefix}UppercaseValidation`).classList.add('valid');
                    validCount++;
                } else {
                    document.getElementById(`${prefix}UppercaseValidation`).classList.remove('valid');
                }
                if (validations.number) {
                    document.getElementById(`${prefix}NumberValidation`).classList.add('valid');
                    validCount++;
                } else {
                    document.getElementById(`${prefix}NumberValidation`).classList.remove('valid');
                }
                if (validations.special) {
                    document.getElementById(`${prefix}SpecialValidation`).classList.add('valid');
                    validCount++;
                } else {
                    document.getElementById(`${prefix}SpecialValidation`).classList.remove('valid');
                }

                const strengthBar = document.getElementById(`${prefix}PasswordStrength`);
                let strength = 0;
                if (validCount === 4) {
                    strength = 100;
                    strengthBar.className = 'strength strong';
                } else if (validCount >= 2) {
                    strength = 50;
                    strengthBar.className = 'strength medium';
                } else {
                    strength = 0;
                    strengthBar.className = 'strength';
                }
                strengthBar.style.width = `${strength}%`;
            }

            // Écouteurs d'événements pour la validation du mot de passe
            document.getElementById('parentPassword').addEventListener('input', function() {
                validatePassword(this.value, 'parent');
            });
            document.getElementById('teacherPassword').addEventListener('input', function() {
                validatePassword(this.value, 'teacher');
            });

            // Fonctions de gestion des formulaires
            window.registerParent = function() {
                const name = document.getElementById('parentName').value;
                const email = document.getElementById('parentEmail').value;
                const password = document.getElementById('parentPassword').value;
                const confirmPassword = document.getElementById('parentConfirmPassword').value;
                const childName = document.getElementById('childName').value;
                const childAge = document.getElementById('childAge').value;
                const childGrade = document.getElementById('childGrade').value;
                const city = document.getElementById('parentCity').value;

                if (!name || !email || !password || !confirmPassword || !childName || !childAge || !childGrade || !city) {
                    alert("Veuillez remplir tous les champs du formulaire.");
                    return;
                }
                if (password !== confirmPassword) {
                    alert("Les mots de passe ne correspondent pas.");
                    return;
                }
                if (password.length < 8 || !/[A-Z]/.test(password) || !/[0-9]/.test(password) || !/[!@#$%^&*(),.?":{}|<>]/.test(password)) {
                    alert("Le mot de passe ne respecte pas les critères de sécurité.");
                    return;
                }

                currentUser = {
                    userType: 'parent',
                    name: name,
                    email: email,
                    city: city,
                    children: [{ name: childName, age: childAge, grade: childGrade }]
                };

                alert("Inscription parent réussie ! Redirection vers la page de vérification.");
                document.getElementById('registration').style.display = 'none';
                document.getElementById('verification').style.display = 'block';
            }

            window.registerTeacher = function() {
                const name = document.getElementById('teacherName').value;
                const email = document.getElementById('teacherEmail').value;
                const password = document.getElementById('teacherPassword').value;
                const confirmPassword = document.getElementById('teacherConfirmPassword').value;
                const subject = document.getElementById('teacherSubject').value;
                const city = document.getElementById('teacherCity').value;
                const bio = document.getElementById('teacherBio').value;
                const photoFile = document.getElementById('teacherPhoto').files[0];
                const diplomaFiles = document.getElementById('teacherDiplomas').files;

                if (!name || !email || !password || !confirmPassword || !subject || !city || !bio) {
                    alert("Veuillez remplir tous les champs du formulaire.");
                    return;
                }
                if (password !== confirmPassword) {
                    alert("Les mots de passe ne correspondent pas.");
                    return;
                }
                if (password.length < 8 || !/[A-Z]/.test(password) || !/[0-9]/.test(password) || !/[!@#$%^&*(),.?":{}|<>]/.test(password)) {
                    alert("Le mot de passe ne respecte pas les critères de sécurité.");
                    return;
                }

                let photoURL = '';
                if (photoFile) {
                    photoURL = URL.createObjectURL(photoFile);
                    alert(`Photo de profil "${photoFile.name}" uploadée.`);
                }
                if (diplomaFiles.length > 0) {
                    let diplomaNames = Array.from(diplomaFiles).map(file => file.name);
                    alert(`Diplômes uploadés : ${diplomaNames.join(', ')}.`);
                }

                currentUser = {
                    userType: 'teacher',
                    name: name,
                    email: email,
                    subject: subject,
                    city: city,
                    bio: bio,
                    photo: photoURL,
                    diplomas: Array.from(diplomaFiles).map(file => ({ name: file.name, url: URL.createObjectURL(file) }))
                };

                alert("Inscription enseignant réussie ! Redirection vers la page de vérification.");
                document.getElementById('registration').style.display = 'none';
                document.getElementById('verification').style.display = 'block';
            }

            window.login = function() {
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                if (email && password) {
                    // Simulation d'une connexion réussie avec des données d'utilisateur par défaut
                    currentUser = {
                        userType: 'parent',
                        name: "Marie Dupond",
                        email: "marie.dupond@example.com",
                        city: "Paris",
                        children: [{ name: "Léa", age: 10, grade: "CM2" }]
                    };
                    alert("Connexion réussie !");
                    closeLoginModal();
                    updateNavigation(true);
                    document.getElementById('profile').style.display = 'block';
                    displayUserProfile();
                } else {
                    alert("Veuillez entrer votre email et mot de passe.");
                }
            }

            window.logout = function() {
                currentUser = null;
                alert("Déconnexion réussie !");
                updateNavigation(false);
                document.getElementById('profile').style.display = 'none';
                window.location.hash = '#home';
            }

            window.resendVerification = function() {
                alert("Un nouvel email de vérification a été envoyé.");
            }

            window.addChild = function() {
                const name = document.getElementById('newChildName').value;
                const age = document.getElementById('newChildAge').value;
                const grade = document.getElementById('newChildGrade').value;
                if (name && age && grade) {
                    if (currentUser && currentUser.userType === 'parent') {
                        if (!currentUser.children) currentUser.children = [];
                        currentUser.children.push({ name, age, grade });
                        displayUserProfile();
                        alert(`Enfant ${name} ajouté !`);
                        closeAddChildModal();
                    }
                } else {
                    alert("Veuillez remplir tous les champs.");
                }
            }

            window.completeContact = function() {
                alert("Paiement simulé de 5€ effectué. Les coordonnées de l'enseignant vous ont été envoyées par email.");
                document.getElementById('contactTeacherStep1').style.display = 'none';
                document.getElementById('contactTeacherStep2').style.display = 'block';
            }
            
            // Fonctions pour gérer le profil utilisateur et son édition
            function displayUserProfile() {
                const profileContentDiv = document.getElementById('profileContent');
                if (!currentUser) return;
                
                let contentHTML = `<p><strong>Nom :</strong> ${currentUser.name}</p>
                                   <p><strong>Email :</strong> ${currentUser.email}</p>
                                   <p><strong>Ville :</strong> ${currentUser.city}</p>`;

                if (currentUser.userType === 'teacher') {
                    contentHTML = `<div class="photo-upload">
                                    <img src="${currentUser.photo || 'https://via.placeholder.com/150'}" alt="Photo de profil" class="profile-photo">
                                   </div>
                                   <p><strong>Nom :</strong> ${currentUser.name}</p>
                                   <p><strong>Email :</strong> ${currentUser.email}</p>
                                   <p><strong>Matière :</strong> ${currentUser.subject}</p>
                                   <p><strong>Ville :</strong> ${currentUser.city}</p>
                                   <p><strong>Bio :</strong> ${currentUser.bio}</p>`;
                    if (currentUser.diplomas && currentUser.diplomas.length > 0) {
                        contentHTML += `<h4>Mes diplômes :</h4><ul>`;
                        currentUser.diplomas.forEach(diploma => {
                            contentHTML += `<li><a href="${diploma.url}" target="_blank">${diploma.name}</a></li>`;
                        });
                        contentHTML += `</ul>`;
                    }
                } else if (currentUser.userType === 'parent') {
                    contentHTML = `<p><strong>Nom :</strong> ${currentUser.name}</p>
                                   <p><strong>Email :</strong> ${currentUser.email}</p>
                                   <p><strong>Ville :</strong> ${currentUser.city}</p>`;
                    if (currentUser.children && currentUser.children.length > 0) {
                        const childrenList = document.getElementById('childrenList');
                        childrenList.innerHTML = '';
                        currentUser.children.forEach(child => {
                            const childItem = document.createElement('div');
                            childItem.className = 'child-item';
                            childItem.innerHTML = `<p>${child.name}, ${child.age} ans, ${child.grade}</p>`;
                            childrenList.appendChild(childItem);
                        });
                    } else {
                         document.getElementById('childrenList').innerHTML = '<p>Aucun enfant ajouté pour le moment.</p>';
                    }
                }
                
                profileContentDiv.innerHTML = contentHTML;
            }

            window.onload = function() {
                // Initialisation des onglets
                const forms = document.querySelectorAll('.form-card');
                if (forms.length > 0) {
                    forms.forEach((form, index) => {
                        if (index === 0) {
                            form.style.display = 'block';
                        } else {
                            form.style.display = 'none';
                        }
                    });
                }
            };


            window.loadProfileForEdit = function(userType) {
                document.getElementById('editParentForm').style.display = 'none';
                document.getElementById('editTeacherForm').style.display = 'none';

                if (userType === 'parent') {
                    document.getElementById('editParentForm').style.display = 'block';
                    document.getElementById('editParentName').value = currentUser.name;
                    document.getElementById('editParentEmail').value = currentUser.email;
                    // Charger la liste des villes pour l'édition si nécessaire
                } else if (userType === 'teacher') {
                    document.getElementById('editTeacherForm').style.display = 'block';
                    document.getElementById('editTeacherName').value = currentUser.name;
                    document.getElementById('editTeacherEmail').value = currentUser.email;
                    document.getElementById('editTeacherSubject').value = currentUser.subject;
                    document.getElementById('editTeacherBio').value = currentUser.bio;
                    // Charger la liste des villes pour l'édition si nécessaire
                    
                    const editPhotoPreview = document.getElementById('editTeacherPhotoPreview');
                    const editPhotoIcon = document.querySelector('#editTeacherForm .upload-icon');
                    const editPhotoText = document.getElementById('editTeacherPhotoText');
                    if (currentUser.photo) {
                        editPhotoPreview.src = currentUser.photo;
                        editPhotoPreview.style.display = 'block';
                        editPhotoIcon.style.display = 'none';
                        editPhotoText.textContent = 'Changer la photo';
                    } else {
                        editPhotoPreview.style.display = 'none';
                        editPhotoIcon.style.display = 'block';
                        editPhotoText.textContent = 'Ajouter une photo de profil';
                    }
                }
            }

            window.saveProfileChanges = function() {
                if (!currentUser) return;

                if (currentUser.userType === 'parent') {
                    const newName = document.getElementById('editParentName').value;
                    const newCity = document.getElementById('editParentCity').value;
                    currentUser.name = newName;
                    if (newCity) currentUser.city = newCity;
                    
                } else if (currentUser.userType === 'teacher') {
                    const newName = document.getElementById('editTeacherName').value;
                    const newSubject = document.getElementById('editTeacherSubject').value;
                    const newCity = document.getElementById('editTeacherCity').value;
                    const newBio = document.getElementById('editTeacherBio').value;
                    const newPhotoFile = document.getElementById('editTeacherPhoto').files[0];
                    const newDiplomaFiles = document.getElementById('editTeacherDiplomas').files;

                    currentUser.name = newName;
                    currentUser.subject = newSubject;
                    if (newCity) currentUser.city = newCity;
                    currentUser.bio = newBio;
                    if (newPhotoFile) {
                        currentUser.photo = URL.createObjectURL(newPhotoFile);
                    }
                    if (newDiplomaFiles.length > 0) {
                        currentUser.diplomas = Array.from(newDiplomaFiles).map(file => ({ name: file.name, url: URL.createObjectURL(file) }));
                    }
                }
                
                alert("Profil mis à jour avec succès !");
                closeEditProfileModal();
                displayUserProfile(); // Rafraîchir l'affichage du profil
            }
            
            // Gestion de l'aperçu de la photo de profil
            function handlePhotoUpload(input, preview, textElement) {
                const file = input.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        preview.src = e.target.result;
                        preview.style.display = 'block';
                        textElement.textContent = 'Changer la photo';
                        document.querySelector(`label[for="${input.id}"] .upload-icon`).style.display = 'none';
                    };
                    reader.readAsDataURL(file);
                } else {
                    preview.src = '#';
                    preview.style.display = 'none';
                    textElement.textContent = 'Ajouter une photo de profil';
                    document.querySelector(`label[for="${input.id}"] .upload-icon`).style.display = 'block';
                }
            }

            document.getElementById('teacherPhoto').addEventListener('change', function() {
                handlePhotoUpload(this, document.getElementById('teacherPhotoPreview'), document.getElementById('teacherPhotoText'));
            });

            document.getElementById('editTeacherPhoto').addEventListener('change', function() {
                handlePhotoUpload(this, document.getElementById('editTeacherPhotoPreview'), document.getElementById('editTeacherPhotoText'));
            });

            // Animation des statistiques
            animateValue('teacherCount', 0, 20025, 2000);
            animateValue('parentCount', 0, 45120, 2000);
            animateValue('studentCount', 0, 78356, 2000);

            // Fonction pour animer les valeurs des statistiques
            function animateValue(id, start, end, duration) {
                const obj = document.getElementById(id);
                if (!obj) return;
                let startTimestamp = null;
                const step = (timestamp) => {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                    const value = Math.floor(progress * (end - start) + start);
                    obj.innerHTML = value.toLocaleString();
                    if (progress < 1) {
                        window.requestAnimationFrame(step);
                    }
                };
                window.requestAnimationFrame(step);
            }

            // Mettre à jour la navigation
            function updateNavigation(isLoggedIn = false) {
                document.getElementById('loginNavItem').style.display = isLoggedIn ? 'none' : 'block';
                document.getElementById('profileNavItem').style.display = isLoggedIn ? 'block' : 'none';
                document.getElementById('logoutNavItem').style.display = isLoggedIn ? 'block' : 'none';
            }
        });
    </script>
</body>
</html>
